/**
  * v1.0.122 generated on: Sun Aug 28 2016 22:15:56 GMT+0000 (UTC)
  * Copyright (c) 2014-2016, Ecor Ventures LLC. All Rights Reserved. See LICENSE (BSD).
  */
"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();if(window.NGN={},Object.defineProperty(NGN,"define",{enumerable:!1,writable:!1,configurable:!1,value:function(e,t,n,r){return{enumerable:e,writable:t,configurable:n,value:r}}}),Object.defineProperties(NGN,{"public":NGN.define(!1,!1,!1,function(e){return NGN.define(!0,"function"!=typeof e,!1,e)}),"private":NGN.define(!1,!1,!1,function(e){return NGN.define(!1,"function"!=typeof e,!1,e)}),"const":NGN.define(!1,!1,!1,function(e){return NGN.define(!0,!1,!1,e)}),privateconst:NGN.define(!1,!1,!1,function(e){return NGN.define(!1,!1,!1,e)}),get:NGN.define(!1,!1,!1,function(e){return{enumerable:!1,get:e}}),set:NGN.define(!1,!1,!1,function(e){return{enumerable:!1,set:e}})}),Object.defineProperties(NGN,{extend:NGN.privateconst(function(e,t){Object.defineProperty(this,e,t)}),inherit:NGN["const"](function(e,t){e&&t&&(e="function"==typeof e?e.prototype:e,t="function"==typeof t?t.prototype:t,Object.getOwnPropertyNames(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r)}))}),slice:NGN["private"](function(e){return Array.prototype.slice.call(e)}),splice:NGN["private"](function(e){return Array.prototype.splice.call(e)}),coalesce:NGN["public"](function(){for(var e in arguments)if(void 0!==arguments[e]&&null!==arguments[e])return arguments[e];return null}),nodelike:NGN.get(function(){var e=!1;try{e=void 0!==require}catch(t){}return e}),dedupe:NGN["private"](function(e){return e.filter(function(t,n){return e.indexOf(t)===n})}),"typeof":NGN.define(!1,!1,!1,function(e){var t=Object.prototype.toString.call(e).split(" ")[1].replace(/\]|\[/gi,"").toLowerCase();if("function"===t){if(!e.name)return e.toString().replace(/\n/gi,"").replace(/^function\s|\(.*$/gim,"").toLowerCase();t=e.name||"function"}return t.toLowerCase()}),stack:NGN.get(function(){var e=this,t=((new Error).stack.split("\n"),(new Error).stack.split("\n")||[]);return t=t.filter(function(e){return e.split(":").length>1}).map(function(t){return t=t.replace(/^.*\s\(/i,"").replace(/\)/gi,"").replace(/^.*\@/i,"").replace(void 0!==window?window.location.origin:void 0!==process?process.cwd():"","").replace(/^.*\:\/\//,"").replace(/\s{1,100}at\s{1,100}/gi,"").replace(/anonymous\>/,"console").trim().split(":"),{path:t[0].substr(e.nodelike?0:1,t[0].length-(e.nodelike?0:1))+":"+t[1]+":"+t[2],file:t[0].substr(e.nodelike?0:1,t[0].length-(e.nodelike?0:1)),line:parseInt(t[1],10),column:parseInt(t[2],10)}}),0===t.length?[{path:"unknown",file:"unknown",line:0,column:0}]:(e.nodelike&&t.reverse(),t)}),css:NGN.privateconst("font-weight: bold;")}),Object.defineProperty(NGN,"global",NGN.privateconst(NGN.nodelike?global:window)),document.addEventListener("DOMContentLoaded",function(){document.body.classList.add("ngn")}),!window.NGN)throw new Error("The EventEmitter class is dependent on the presence of NGN.");var EventEmitter=function(){function e(t){_classCallCheck(this,e),t=t||{},Object.defineProperties(this,{handlers:NGN["private"]({}),adhoc:NGN["private"]({}),maxlisteners:NGN["private"](t.defaultMaxListeners||10)})}return _createClass(e,[{key:"listenerCount",value:function(e){return(this.handlers[e]||[]).length+(this.adhoc[e]||[]).length}},{key:"getMaxListeners",value:function(){return this.defaultMaxListeners}},{key:"setMaxListeners",value:function(e){this.defaultMaxListeners=e}},{key:"eventNames",value:function(){var e=Object.keys(this.handlers),t=Object.keys(this.adhoc);return NGN.dedupe(e.concat(t))}},{key:"listeners",value:function(e){var t=this.handlers[e]||[],n=this.adhoc[e]||[];return t.concat(n)}},{key:"on",value:function(e,t,n){if(this.handlers[e]=this.handlers[e]||[],this.handlers[e][NGN.coalesce(n,!1)?"unshift":"push"](t),this.emit("newListener",e,t),this.listenerCount(e)>this.maxlisteners)throw new Error("Maximum event listeners exceeded. Use setMaxListeners() to adjust the level.")}},{key:"addListener",value:function(){this.on.apply(this,arguments)}},{key:"prependListener",value:function(){var e=NGN.slice(arguments).push(!0);this.on.apply(this,e)}},{key:"once",value:function(e,t,n){if(this.adhoc[e]=this.adhoc[e]||[],this.adhoc[e][NGN.coalesce(n,!1)?"unshift":"push"](t),this.emit("newListener",e,t),this.listenerCount(e)>this.maxlisteners)throw new Error("Maximum event listeners exceeded. Use setMaxListeners() to adjust the level.")}},{key:"prependOnceListener",value:function(){var e=NGN.slice(arguments).push(!0);this.once.apply(this,e)}},{key:"off",value:function(e,t){this.deleteEventHandler("handlers",e,t)}},{key:"onceoff",value:function(e,t){this.deleteEventHandler("adhoc",e,t)}},{key:"deleteEventHandler",value:function(e,t,n){var r=this[e];if(r[t]){var i=function(){if(!n)return delete r[t],{v:void 0};var e=[];return r[t].forEach(function(t){t.toString()!==n.toString()&&e.push(t)}),0===e.length?(delete r[t],{v:void 0}):void(r[t]=e)}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}}},{key:"removeListener",value:function(){this.off.apply(this,arguments),this.onceoff.apply(this,arguments)}},{key:"clear",value:function(){var e=this;arguments.length>0?NGN.slice(arguments).forEach(function(t){delete e.handlers[t],delete e.adhoc[t]}):(this.handlers={},this.adhoc={})}},{key:"removeAllListeners",value:function(){this.clear.apply(this,arguments)}},{key:"emit",value:function(){var e=NGN.slice(arguments),t=e.shift(),n=this.getAllEvents(t),r={event:t};for(var i in n){var o=this.adhoc[n[i]];if(o)for(delete this.adhoc[n[i]];o.length>0;){var s=o.pop();r.handler=s,s.apply(r,e)}var a=this.handlers[n[i]];if(a)for(var c in a)r.handler=a[c],a[c].apply(r,e)}}},{key:"getAllEvents",value:function(e){var t=Object.keys(this.handlers),n=Object.keys(this.adhoc),r=NGN.dedupe(t.concat(n));return r=r.filter(function(t){return t===e||("regexp"===NGN["typeof"](t)||t.indexOf("*")>=0)&&("regexp"!==NGN["typeof"](t)&&(t=new RegExp(t.replace("*",".*","gi"))),t.test(e))})}},{key:"subscribers",get:function(){var e={};for(var t in this.handlers)e[t]={handler:this.handlers[t].length,adhoc:0};for(var n in this.adhoc)e[n]=e[n]||{handler:0},e[n].adhoc=this.adhoc[n].length;return e}},{key:"defaultMaxListeners",get:function(){return this.maxlisteners},set:function(e){this.maxlisteners=e}}]),e}();NGN.extend("EventEmitter",NGN["private"](EventEmitter)),NGN.inherit(Object.defineProperties({},{queued:NGN["private"]({}),pool:NGN["const"](function(e,t,n){"string"!=typeof e&&(t=e,e="");var r={};for(var i in t){var o=(e.trim()||"")+i;"function"==typeof t[i]?r[i]=this.on(o,t[i]):console.warn("%c"+o+"%c could not be pooled in the event emitter because it's value is not a function.",NGN.css,"")}n&&n(r)}),attach:NGN["const"](function(e,t){var n=this;return t=NGN.coalesce(t,!1),function(r){t&&r.hasOwnProperty("preventDefault")&&r.preventDefault();var i=NGN.slice(arguments);i.unshift(e),n.emit.apply(n,i)}}),bind:NGN["const"](function(e,t,n){t="string"==typeof t?[t]:t;var r=this,i=function(){var e=NGN.slice(arguments);n&&e.push(n);for(var i in t){var o=e.slice();o.unshift(t[i]),r.emit.apply(r,o)}};return this.on(e,i),{remove:function(){r.off(e,i)}}}),queue:NGN["const"](function(e,t){var n=this,r=arguments;this.queued.hasOwnProperty(e)||!function(){var i=n,o=NGN.slice(r);o.splice(1,1),n.queued[e]=setTimeout(function(){delete i.queued[e],i.emit.apply(i,o)},t)}()})}),NGN.EventEmitter);var CustomException=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));e=e||{},e="string"==typeof e?{message:e}:e,e.custom=e.custom||{};var r=n;n.name=e.name||"NgnError",n.type=e.type||"TypeError",n.severity=e.severity||"minor",n.message=e.message||"Unknown Error",n.category=e.category||"operational",n.name=n.name.replace(/[^a-zA-Z0-9_]/gi,"");for(var i in e.custom)e.custom.hasOwnProperty(i)&&(n[i]=e.custom[i]);if(n.hasOwnProperty("custom")&&delete n.custom,NGN.nodelike||Error.prepareStackTrace){Error.prepareStackTrace=function(e,t){return t};var o=new Error;Error.captureStackTrace(o,n),n.rawstack=o.stack,Error.prepareStackTrace=function(e,t){return r.cause&&console.warn(r.cause),r.help&&console.info(r.help),r.name+": "+r.message+"\n"+t.filter(function(e){return e.getFileName()!==__filename&&e.getFileName()}).map(function(e){return"    at "+e}).join("\n")},Error.captureStackTrace(n)}return n}return _inherits(t,e),_createClass(t,[{key:"trace",get:function(){return this.rawstack.filter(function(e){return e.getFileName()!==__filename&&e.getFileName()}).map(function(e){return{filename:e.getFileName(),line:e.getLineNumber(),column:e.getColumnNumber(),functionname:e.getFunctionName(),"native":e.isNative(),eval:e.isEval(),type:e.getTypeName()}})}}]),t}(Error);NGN.nodelike&&(module.exports=CustomException),NGN.extend("createException",NGN["public"](function(e){e=e||{},e="string"==typeof e?{message:e}:e,e.name=e.name||"NgnError",e.name=e.name.replace(/[^a-zA-Z0-9_]/gi,""),NGN.global[e.name]=function(){return arguments.length>0&&(e.message=arguments[0]),new CustomException(e)}})),NGN.DOM={},Object.defineProperties(NGN.DOM,{ready:NGN["const"](function(e){document.addEventListener("DOMContentLoaded",e)}),destroy:NGN["const"](function(e){if("string"==typeof e){var t=e;if(e=document.querySelectorAll(e),0===e.length)return void console.warn('The "'+t+'" selector did not return any elements.');NGN.slice(e).forEach(this.destroy)}else switch(NGN["typeof"](e)){case"array":return void e.forEach(this.destroy);case"nodelist":return void NGN.slice(e).forEach(this.destroy);case"htmlelement":return void e.parentNode.removeChild(e);default:if(/^html.*element$/.test(NGN["typeof"](e)))return void e.parentNode.removeChild(e);console.warn("An unknown error occurred while trying to remove DOM elements."),console.log("Unknown Element",e)}}),findParent:NGN["const"](function(e,t,n){if("string"==typeof e){if(e=document.querySelectorAll(e),0===e.length)return console.warn('"'+e+'" is an invalid CSS selector (Does not identify any DOM elements).'),null;e=e[0]}var r=e.parentNode,i=0;for(n="number"==typeof n?n:-1;null===r.parentNode.querySelector(t)&&"BODY"!==r.nodeName;){if(i++,n>0&&i>n)return null;r=r.parentNode}return r}),indexOfParent:NGN["const"](function(e){return NGN.slice(e.parentNode.children).indexOf(e)})}),NGN.extend("BUS",NGN["const"](new NGN.EventEmitter)),NGN.ref=new function(){var e=function(e,t,n,r,i){if(void 0===NGN.BUS)return console.error("The event BUS is required for "+r+"().");i=NGN.coalesce(i,!1);var o=function(e){i&&e.preventDefault&&e.preventDefault(),NGN.BUS.emit(t,e)};n.addEventListener(e,o)},t=function(e,t,n){return"string"==typeof e?document[n?"querySelector":"querySelectorAll"]((e+" > "+t).trim()):e[n?"querySelector":"querySelectorAll"](t.trim())};Object.defineProperties(this,{keys:NGN.define(!1,!0,!1,{}),_find:NGN.define(!1,!1,!1,function(e,t){if("string"==typeof e){var n=NGN.ref.find((e+" > "+t).trim());if(0===n.length){var r=NGN.ref.find(e.trim())[0].parentNode.querySelectorAll(t);if(r.length>0)return 1===r.length?r[0]:r}return n}return NGN.ref.find(e.querySelectorAll(t))}),find:NGN.define(!1,!1,!1,function(n){var r="string"!=typeof n,i=r===!1?document.querySelectorAll(n):n,o=null;if(1===i.length)i[0].hasOwnProperty("isArray")||Object.defineProperties(i[0],{isArray:NGN.get(function(){return!1},!1)}),i[0].hasOwnProperty("find")||Object.defineProperty(i[0],"find",NGN["const"](function(e){return NGN.ref._find(n,e)})),i[0].hasOwnProperty("forward")||Object.defineProperty(i[0],"forward",NGN["const"](function(t,n){e(t,n,this,"forward")})),i[0].hasOwnProperty("on")||Object.defineProperty(i[0],"on",NGN["const"](function(){this.addEventListener.apply(this,arguments)})),o=i[0];else{var s=NGN.slice(i);"nodelist"===NGN["typeof"](i)&&1===s.length&&(s=s[0]),Object.defineProperties(s,{querySelector:NGN.define(!1,!1,!1,function(e){t(n,e)}),querySelectorAll:NGN.define(!1,!1,!1,function(e){t(n,e,!0)}),addEventListener:NGN.define(!1,!1,!1,function(e,t){for(var n=0;n<this.length;n++)this[n].addEventListener(e,t)}),removeEventListener:NGN.define(!1,!1,!1,function(e,t){for(var n=0;n<this.length;n++)this[n].removeEventListener(e,t)}),find:NGN["const"](function(e){return NGN.ref._find(n,e)}),isArray:NGN.get(function(){return!0},!1),forward:NGN.define(!1,!1,!1,function(t,n){e(t,n,this,"forward")})}),o=s}return o}),create:NGN["const"](function(e,t){if(!t&&"string"!=typeof e)return this.find(e);if("string"!=typeof e&&"number"!=typeof e)throw new Error("Cannot add a non-alphanumeric selector reference.");if(0===e.trim().length)throw new Error("Cannot add a blank selector reference.");if(void 0===t||null===t||0===t.trim().length)throw new Error("Cannot create a null/undefined selector reference.");var n=this.cleanKey(e),r=this;Object.defineProperty(NGN.ref,n,NGN["private"](t)),Object.defineProperty(NGN.ref,e,{enumerable:!0,get:function(){return r.find(t)},set:function(e){if(void 0===e||null===e||0===e.trim().length)throw new Error("Cannot create a null/undefined selector reference.");NGN.ref[n]=e}}),this.keys[e]=t,this.keys[this.cleanKey(e)]=t}),remove:NGN["const"](function(e){this[e]&&(delete this[e],delete this.keys[e]);var t=this.cleanKey(e);this[t]&&(delete this[t],delete this.keys[t])}),cleanKey:NGN.define(!1,!1,!1,function(e){return e.replace(/[^A-Za-z0-9\_\#\$\@\-\+]/gi,"")+e.length}),json:{enumerable:!0,get:function(){var e=this,t={};return Object.keys(this).forEach(function(n){e.hasOwnProperty(n)&&["json","find","remove"].indexOf(n.trim().toLowerCase())<0&&"function"!=typeof e[n]&&(t[n]=e.keys[n])}),t}}})};var parser=new DOMParser,fs=NGN.nodelike?require("fs"):null,Network=function(){function e(){_classCallCheck(this,e),Object.defineProperties(this,{xhr:NGN.privateconst(function(e){var t=void 0;return window.XMLHttpRequest&&(t=new XMLHttpRequest),t.onreadystatechange=function(){4===t.readyState&&e&&e(t)},t}),run:NGN.privateconst(function(e,t,n){var r=NGN.NET.xhr(n);r.open(e,t,!0),r.send()}),applyRequestSettings:NGN.privateconst(function(e,t){if(!e||!t)throw new Error("No XHR or configuration object defined.");if(t.params){var n=Object.keys(t.params).map(function(e){return e+"="+encodeURIComponent(t.params[e])});t.url+="?"+n.join("&")}e.open(t.method||"POST",t.url,!0),t.header=t.header||t.headers||{},Object.keys(t.header).forEach(function(n){e.setRequestHeader(n,t.header[n])});var r=null;return t.json?((!t.header||t.header&&!t.header["Content-Type"])&&e.setRequestHeader("Content-Type","application/jsoncharset=UTF-8"),r=JSON.stringify(t.json).trim()):t.body?((!t.header||t.header&&!t.header["Content-Type"])&&e.setRequestHeader("Content-Type","application/text"),r=t.body):t.form&&(r=new FormData,Object.keys(t.form).forEach(function(e){r.append(e,t.form[e])})),t.withCredentials&&(e.withCredentials=t.withCredentials),t.username&&t.password?e.setRequestHeader("Authorization","Basic "+btoa(t.username+":"+t.password)):t.accessToken&&e.setRequestHeader("Authorization","Bearer "+t.accessToken),r}),prepend:NGN.privateconst(function(e,t){return e=NGN.slice(e),e.unshift(t),e}),getFile:NGN.privateconst(function(e){if(null!==fs){var t={status:fs.existsSync(e.replace("file://",""))?200:400};return t.responseText=200===t.status?fs.readFileSync(e.replace("file://","")).toString():"File could not be found.",t}throw new Error(e+" does not exist or could not be found.")}),normalizeUrl:NGN.privateconst(function(e){var t=[];return e.split("/").forEach(function(e){".."===e?t.pop():"."!==e&&t.push(e)}),t.join("/").replace(/\:\/{3,50}/gi,"://")}),processImport:NGN.privateconst(function(e,t,n,r){r=void 0!==r&&r,this["import"](e,function(e){if("string"==typeof e)e=document.createTextNode(e);else if(e.length){var i=function(){var i=[];return NGN.slice(e).forEach(function(e){r?(i.push(t.parentNode.insertBefore(e,t)),t=e):i.push(t.appendChild(e))}),n&&n(i),{v:void 0}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}r?t.parentNode.insertBefore(e,t):t.appendChild(e),n&&n(e)})}),domainRoot:NGN.privateconst(function(e){var t=e.search(/^https?\:\/\//)!==-1?e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i,""):e.match(/^([^\/?#]+)(?:[\/?#]|$)/i,"");return null===t||t[1].length<3?window.location.host:t[1]}),isCrossOrigin:NGN.privateconst(function(e){return this.domainRoot(e)!==window.location.host}),prelink:NGN.privateconst(function(e,t,n){if(!document.head)return void console.warn("Cannot use a preconnect, predns, etc because there is no HEAD in the HTML document.");var r=document.createElement("link");r.rel=t,r.href="http"!==e.trim().toLowerCase().substr(0,4)?this.normalizeUrl(window.location.origin+window.location.pathname+e):e,NGN.coalesce(n,this.isCrossOrigin(e))&&r.setAttribute("crossorigin","true"),document.head.appendChild(r),NGN.BUS.emit("network."+t)}),importCache:NGN["private"]({}),createElement:NGN.privateconst(function(e){return parser.parseFromString(e,"text/html").querySelector("body").children}),applyData:NGN.privateconst(function(e,t,n){if(void 0===e)return console.warn("Empty template."),void(n&&n());Object.keys(t).forEach(function(n){var r=new RegExp("{{"+n+"}}","gm");e=e.replace(r,t[n])}),e=e.replace(/(\{\{.*\}\})/gm,"");var r=this.createElement(e);n&&n(r[0])})})}return _createClass(e,[{key:"send",value:function(e,t){e=e||{};var n=this.xhr(t),r=this.applyRequestSettings(n,e);n.send(r)}},{key:"get",value:function(){if("object"===_typeof(arguments[0])){var e=arguments[0];return e.method="GET",e.url="string"==typeof arguments[1]?arguments[1]:e.url,e.url.substr(0,4)&&NGN.nodelike?arguments[arguments.length-1](this.getFile(e.url)):this.send(e,arguments[arguments.length-1])}return"file"===arguments[0].substr(0,4)&&NGN.nodelike?arguments[arguments.length-1](this.getFile(arguments[0])):void this.run.apply(this.run,this.prepend(arguments,"GET"))}},{key:"head",value:function(e,t){if("object"===_typeof(arguments[0])){var n=arguments[0];return n.method="HEAD",n.url="string"==typeof arguments[1]?arguments[1]:n.url,this.send(n,arguments[arguments.length-1])}this.run.apply(this.run,this.prepend(arguments,"HEAD"))}},{key:"put",value:function(e,t){e=e||{},e.method="PUT",e.url=e.url||window.location,this.send(e,t)}},{key:"post",value:function(e,t){e=e||{},e.method="POST",e.url=e.url||window.location,this.send(e,t)}},{key:"delete",value:function(){this.run.apply(this.run,this.prepend(arguments,"DELETE"))}},{key:"json",value:function(e,t,n){"string"==typeof e&&(n=t,t=e,e=null),null===e?this.run("GET",t,function(e){if(200!==e.status)throw Error("Could not retrieve JSON data from "+t+" (Status Code: "+e.status+").");try{e.json=JSON.parse(e.responseText)}catch(r){e.json=null}n&&n(e.json)}):(e.url=t,this.get(e,function(e){if(200!==e.status)throw Error("Could not retrieve JSON data from "+t+" (Status Code: "+e.status+").");try{e.json=JSON.parse(e.responseText)}catch(r){e.json=null}n&&n(e.json)}))}},{key:"import",value:function(e,t,n){var r=this;if(Array.isArray(e)){var i=function(){var i=r,o=new Array(e.length),s=0;return e.forEach(function(e,t){i["import"](e,function(e){o[t]=e,s++},n)}),t&&!function(){var n=setInterval(function(){s===e.length&&(clearInterval(n),t(o))},5)}(),{v:void 0}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}var o=null;try{!function(){o=e.split("/").pop().split("?")[0].split(".").pop().toLowerCase();var n=void 0;"js"===o?(n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("src",e)):"css"===o&&(n=document.createElement("link"),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e)),n.onload="function"==typeof t?function(){t(n)}:function(){},document.getElementsByTagName("head")[0].appendChild(n)}()}catch(s){}if(!(["js","css"].indexOf((o||"").trim().toLowerCase())>=0)){if(n="boolean"==typeof n&&n,"http"!==e.substr(0,4)){var a=window.location.href.split("/");a.pop(),e=a.join("/")+"/"+e}if(!n&&this.importCache.hasOwnProperty(e)){var c=this.createElement(this.importCache[e]);return t&&t(1===c.length?c[0]:c),void(window.NGN.BUS&&window.NGN.BUS.emit("html.import",1===c.length?c[0]:c))}var u=this;this.get(e,function(n){if(200!==n.status)return console.warn("Check the file path of the snippet that needs to be imported. "+e+" could not be found ("+n.status+")");var r=u.createElement(n.responseText);if(u.importCache[e]=n.responseText,0===r.length)console.warn(u.normalizeUrl(e)+" import has no HTML tags."),t&&t(n.responseText),window.NGN.BUS&&window.NGN.BUS.emit("html.import",n.responseText);else{var i=1===r.length?r[0]:r;t&&t(i),window.NGN.BUS&&window.NGN.BUS.emit("html.import",i)}})}}},{key:"importTo",value:function(e,t,n){this.processImport(e,t,n)}},{key:"importBefore",value:function(e,t,n){this.processImport(e,t,n,!0)}},{key:"predns",value:function(e,t){this.prelink(window.location.protocol+"//"+e,"dns-prefetch",t)}},{key:"preconnect",value:function(e,t){this.prelink(e,"preconnect",t)}},{key:"prefetch",value:function(e,t){this.prelink(e,"prefetch",t)}},{key:"subresource",value:function(e,t){this.prelink(e,"subresource",t)}},{key:"prerender",value:function(e,t){this.prelink(e,"prerender",t)}},{key:"template",value:function(e,t,n){e=this.normalizeUrl(e),"function"==typeof t&&(n=t,t={}),t=t||{};var r=this,i=void 0;return this.importCache.hasOwnProperty(e)?(i=this.importCache[e],this.applyData(i,t,n)):void this.get(e,function(i){var o=null;try{o=e.split("/").pop().split("?")[0].split(".").pop().toLowerCase()}catch(s){}return["js","css"].indexOf((o||"").trim().toLowerCase())>=0?void console.warn("Cannot use a ."+o+" file as a template. Only HTML templates are supported."):(r.importCache[e]=i.responseText,void r.applyData(i.responseText,t,n))})}}]),e}();NGN.NET=new Network;var fuoc=function(){var e=document.createElement("style"),t=document.createTextNode("svg[src]{display:none}svg.loading{height:0px !important;width:0px !important}");e.appendChild(t),document.head.appendChild(e)};fuoc(),NGN.DOM=NGN.DOM||{},NGN.DOM.svg={},Object.defineProperties(NGN.DOM.svg,{_cache:NGN["private"]({}),swap:NGN.privateconst(function(e,t){for(var n=this,r=0;r<e.length;r++){var i=e[r].attributes,o=n._cache[e[r].getAttribute("src")],s=[];try{s=/<svg(\s.*=[\"\'].*?[\"\'])?>/i.exec(o)[1].trim();var a=/[\"\']\s/i.exec(s);a=null!==a?a[0]:'" ',s=s.replace(new RegExp(a,"gi"),a.replace(/\s/gi,",")).split(",")}catch(c){console.error(c)}s=Array.isArray(s)?s:[s];for(var u=s.map(function(e){return e.split("=")[0].trim().toLowerCase()}),l=0;l<i.length;l++){var f=u.indexOf(i[l].name.toLowerCase());f<0?s.push(i[l].name+'="'+i[l].value+'"'):s[f]=i[l].name+'="'+i[l].value+'"'}s=s.filter(function(e){return"src"!==e.split("=")[0].toLowerCase()});var p="<svg "+s.join(" ")+">";e[r].outerHTML=o.replace(/<svg.*?>/i,p)}t&&t()}),id:NGN.privateconst(function(e){return e.replace(/.*\:\/\/|[^A-Za-z0-9]|www/gi,"")}),cleanCode:NGN.privateconst(function(e){try{return e.toString().trim().replace(/(\r\n|\n|\r)/gm,"").replace(/\s+/g," ").match(/\<svg.*\<\/svg\>/gim,"")[0]}catch(t){return""}}),viewbox:NGN.privateconst(function(e){return/(viewbox=["'])(.*?)(["'])/gim.exec(e.toString().trim())[2]||"0 0 100 100"}),cache:NGN["private"](function(e,t){this._cache[e]=t}),fetchFile:NGN["private"](function(e,t){var n=this;if(t)if(NGN.nodelike&&0!==e.indexOf("http")){var r="";try{r=require("fs").readFileSync(require("path").resolve(e).replace("file://","")).toString()}catch(i){try{r=require("fs").readFileSync(require("path").resolve(__dirname,e).replace("file://","")).toString()}catch(o){}}t(r)}else!function(){var r=n;NGN.NET.get(e,function(e){t&&t(200!==e.status?new Error(e.responseText):r.cleanCode(e.responseText))})}()}),update:NGN["const"](function(e,t){if("function"==typeof e?(t=e,e=document.body):e=e||document.body,"#text"!==e.nodeName){var n=this;e=e.hasOwnProperty("length")===!0?NGN._splice(e):[e],e.forEach(function(e){for(var r=e.querySelectorAll("svg[src]"),i=0;i<r.length;i++)n._cache[r[i].getAttribute("src")]=n._cache[r[i].getAttribute("src")]||null;var o=Object.keys(n._cache).filter(function(e){return null===n._cache[e]}),s=o.length;o.forEach(function(e){n.fetchFile(e,function(t){t instanceof Error||n.cache(e,t),s--})});var a=setInterval(function(){0===s&&(clearInterval(a),n.swap(r,t))},5)})}})});
//# sourceMappingURL=https://ngnjs.github.io/cdn/assets/chassis-lib/sourcemaps/1.0.122/chassis.slim.min.js.map